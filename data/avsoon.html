<!DOCTYPE html>
<html>
<html lang="en-us">

  <head>
  <meta charset="UTF-8">
    <title>sspm</title>
    
    
     <style>
     body            {background-color: #C0C0C0;}
     p.h1            {color: grey;font-size:48px;font-style:italic;}
     div.pkgbf       {font-size: 10px;margin-left: 5px;background: rgb(158, 146, 110);max-width:38em;padding-left: 2px;}

@media screen and (max-width: 500px) {
  .footer_text {width: auto;margin-top: 3em;}
}

@media screen and (min-width: 1000px) {
 
     div.pkgbf {display: flex;align-items: stretch;width: auto;position:absolute;}
     #file0          {top: 15em; left: auto;right: 6em;position: absolute;}
     #file1          {top: 68em; left: 50em;right: auto;position: absolute;}
     #file2          {top: 90em; left: auto;right: 6em;position: absolute;}
     #file3          {top: 98em; left: 46em;right: auto;position: absolute;}
     #file4          {top: 15em; left: 48em;right: auto;position: absolute;max-width:42em;padding-right: 2px;}
     #file5          {top: 49em; left: auto;right: 6em;position: absolute;}
     #file6          {top: 55em; left: auto;right: auto;position: absolute;}
     #file7          {top: 140em; left: auto;right: 48em;position: absolute;}
     #file8          {top: 126em; left: auto;right: 10em;position: absolute;}
     #file9          {top: 38em; left: 50em;right: 30em;position: absolute;max-width:35em;padding-right: 2px;}
     #file10         {top: 15em; left: 2em;right: auto;position: absolute;max-width:42em;padding-right: 2px;}
     div.footer_text {position: absolute;bottom:-85em;width: auto;}

}
     
     </style>
    
    
    
  </head>

<body>
  
    <p class="h1"> here are a few examples: </p>    
    
    
    <div class="pkgbf" id="file0">
    <p> cat  pkgbuild_autoconf2.13</br></br>
        pkgname=autoconf2.13</br>
        pkgver=1</br>
        pkgrev=1</br>
        pkgdesc="description here..."</br>
        url="url here"</br>
        groups=add</br>
        depends=()</br>
        makedepend=(js)</br>
        packager=""</br>
        tfext=</br></br></br>
        build() {</br>
        patch -Np1 -i <strong>$SRC</strong>/autoconf-2.13-consolidated_fixes-1.patch</br>
        mv -v autoconf.texi autoconf213.texi</br>
        rm -v autoconf.info</br></br>
        ./configure --prefix=/usr --program-suffix=2.13</br>
        make</br>
        make check</br>
        make DESTDIR=<strong>$pkgdir</strong> install</br></br>
        install -v -m644 autoconf213.info <strong>$pkgdir</strong>/usr/share/info</br>
        install-info --info-dir=<strong>$pkgdir</strong>/usr/share/info autoconf213.info</br>
        }</br>
    </p>
    </div>
    
       <div class="pkgbf" id="file1">
       <p> cat  pkgbuild_libpeas</br></br>
        pkgname=libpeas</br>
        pkgver=1.30.0</br>
        pkgrev=1</br>
        pkgdesc="moteur de greffons bas√© sur gobject etc..."</br>
        url="https://download.gnome.org/sources/libpeas/"</br>
        groups=add</br>
        depends=(gobject-introspection gtk3)</br>
        makedepend=(gedit)</br>
        packager=you</br>
        tfext=tar.gz</br></br></br>
        build() {</br></br>
        mkdir build</br>
        cd &emsp;&ensp;build</br>
        meson --prefix=/usr --buildtype=release ..</br>
        ninja</br>
        ninja test</br>
        DESTDIR=<strong>$pkgdir</strong> ninja install</br></br>
        }</br>
        </p>
        </div>
        
        
        
       <div class="pkgbf" id="file2">
       <p> cat  pkgbuild</br></br>
        pkgname=pm-utils</br>
        pkgver=1.4.1</br>
        pkgrev=</br>
        pkgdesc="description here"</br>
        url="https://pm-utils.freedesktop.org/releases"</br>
        groups=add</br>
        depends=(xmlto)</br>
        makedepend=()</br>
        packager=</br>
        tfext=</br></br>
        build() {</br>
        ./configure --prefix=/usr&emsp;&ensp;&emsp;&emsp;\</br>
         &emsp;&emsp;&emsp;&emsp;&emsp;--sysconfdir=/etc&emsp;&ensp;\</br>
         &emsp;&emsp;&emsp;&emsp;&emsp;--docdir=/usr/share/doc/pm-utils-1.4.1</br>
        make</br>
        make DESTDIR=<strong>$pkgdir</strong> install</br></br>
        install -v -m644 man/*.1 <strong>$pkgdir</strong>/usr/share/man/man1</br>
        install -v -m644 man/*.8 <strong>$pkgdir</strong>/usr/share/man/man8</br></br>
        <em>ln -sfv pm-action.8 /usr/share/man/man8/pm-suspend.8</br>
        ln -sfv pm-action.8 /usr/share/man/man8/pm-hibernate.8</br>
        ln -sfv pm-action.8 /usr/share/man/man8/pm-suspend-hybrid.8</br></em>
        }
        </p>
        </div>
        
        
       <div class="pkgbf" id="file3">
       <p> cat  pkgbuild_kmod</br></br>         
            pkgname=kmod</br>
            pkgver=29</br>
            pkgrev=1</br>
            pkgdesc="libraries and utilities for loading kernel modules"</br>
            url="https://www.kernel.org/pub/linux/utils/kernel/kmod/"</br>
            groups=base</br>
            depends=()</br>
            makedepend=()</br>
            packager=</br>
            tfext=tar.xz</br></br>
            build() {</br>
            ./configure&emsp;&emsp;--prefix=/usr&emsp;&emsp;&emsp;\</br>
            &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;--sysconfdir=/etc&emsp;&emsp;\</br>
            &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;--with-openssl&emsp;&emsp;&emsp;\</br>
            &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;--with-xz&emsp;&emsp;&emsp;&emsp;&ensp;&ensp;\</br>
            &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;--with-zstd&emsp;&emsp;&emsp;&emsp; \</br>
            &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;--with-zlib</br></br>
            make</br>
            make DESTDIR=<strong>$pkgdir</strong> install</br></br>
            for target in depmod insmod modinfo modprobe rmmod; do</br>
              ln -sfv ../bin/kmod <strong>$pkgdir</strong>/usr/sbin/$target</br>
            done</br></br>
            ln -sfv kmod <strong>$pkgdir</strong>/usr/bin/lsmod</br>
            }

        </p>
        </div>


        <div class="pkgbf" id="file4">
         <p> cat  pkgbuild_pygments</br></br>
         pkgname=pygments</br>
         pkgver=2.12.0</br>
         pkgrev=</br>
         pkgdesc="general syntax highlighter written in python"</br>
         url=""</br>
         groups=add</br>
         depends=()</br>
         makedepend=(gtk-doc)</br>
         packager=</br>
         tfext=</br></br>
         build() {</br>
         pip3 wheel -w dist --no-build-isolation --no-deps $PWD</br>
         pip3 install --no-index --find-links dist --no-cache-dir Pygments --root=<strong>$pkgdir</strong></br>
         }
          </p>
         </div>


        <div class="pkgbf" id="file5">
          <p> cat  pkgbuild_bzip2</br></br>
           pkgname=bzip2</br>
           pkgver=1.0.8</br>
           pkgrev=1</br>
           pkgdesc='programs for compressing and decompressing files'</br>
           url='https://www.sourceware.org/pub/bzip2'</br>
           groups=base</br>
           depends=()</br>
           makedepend=()</br>
           packager=</br>
           tfext=tar.gz</br></br>
           build() {</br>
           patch -Np1 -i <strong>$SRC</strong>/bzip2-1.0.8-install_docs-1.patch</br>
           sed -i 's@\(ln -s -f \)$(PREFIX)/bin/@\1@' Makefile</br>
           sed -i "s@(PREFIX)/man@(PREFIX)/share/man@g" Makefile</br></br>
           make -f Makefile-libbz2_so</br>
           make clean</br>
           make</br>
           make PREFIX=<strong>$pkgdir</strong>/usr install</br></br>
           cp -av libbz2.so.* <strong>$pkgdir</strong>/usr/lib</br>
           ln -sv libbz2.so.1.0.8 <strong>$pkgdir</strong>/usr/lib/libbz2.so</br>
           cp -v bzip2-shared <strong>$pkgdir</strong>/usr/bin/bzip2</br>
           for i in <strong>$pkgdir</strong>/usr/bin/{bzcat,bunzip2}; do</br>
           ln -sfv bzip2 $i</br>
           done</br>
           rm -fv <strong>$pkgdir</strong>/usr/lib/libbz2.a</br>
           }
          </p>
         </div>

         

         <div class="pkgbf" id="file6">
          <p> cat  pkgbuild_glibc</br></br>
          pkgname=glibc</br>
          pkgver=2.35</br>
          pkgrev=1</br>
          pkgdesc="main C library"</br>
          url="https://www.gnu.org/software/libc/"</br>
          groups=base</br>
          depends=(libidn2)</br>
          makedepend=()</br>
          packager=</br>
          tfext=</br></br>
          build() {</br>
          patch -Np1 -i <strong>$SRC</strong>/glibc-2.35-fhs-1.patch</br>
          mkdir -v build</br>
          cd&emsp;&emsp;&emsp; build</br>
          echo "rootsbindir=/usr/sbin" > configparms</br>
          ../configure --prefix=/usr&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;\</br>
          &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;--disable-werror&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;\</br>
          &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;--enable-kernel=3.2&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;\</br>
          &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;--enable-stack-protector=strong&emsp;&emsp;&emsp;&emsp; \</br>
          &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;--with-headers=/usr/include&emsp;&emsp;&emsp;&emsp;&emsp;&ensp; \</br>
          &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;libc_cv_slibdir=/usr/lib</br></br>
           make</br>
           make check</br>
           touch /etc/ld.so.conf</br>
           sed '/test-installation/s@$(PERL)@echo not running@' -i ../Makefile</br>
           make DESTDIR=<strong>$pkgdir</strong> install</br>
           sed '/RTLDLIST=/s@/usr@@g' -i <strong>$pkgdir</strong>/usr/bin/ldd</br>
           mkdir -pv <strong>$pkgdir</strong>/etc/ld.so.conf.d</br> 
           mkdir -pv <strong>$pkgdir</strong>/var/cache/nscd</br>
           mkdir -pv <strong>$pkgdir</strong>/usr/lib/locale</br>
           cp -v ../nscd/nscd.conf <strong>$pkgdir</strong>/etc/nscd.conf</br>
           install -v -Dm644 ../nscd/nscd.tmpfiles <strong>$pkgdir</strong>/usr/lib/tmpfiles.d/nscd.conf</br>
           install -v -Dm644 ../nscd/nscd.service <strong>$pkgdir</strong>/usr/lib/systemd/system/nscd.service</br></br>
           localedef -i POSIX --prefix=<strong>$pkgdir</strong> -f UTF-8 C.UTF-8         2> /dev/null || true</br>
           localedef -i ja_JP --prefix=<strong>$pkgdir</strong> -f SHIFT_JIS ja_JP.SIJS  2> /dev/null || true</br>
           localedef -i cs_CZ --prefix=<strong>$pkgdir</strong> -f UTF-8 cs_CZ.UTF-8</br>
           localedef -i de_DE --prefix=<strong>$pkgdir</strong> -f ISO-8859-1 de_DE</br>
           localedef -i de_DE@euro --prefix=<strong>$pkgdir</strong> -f ISO-8859-15 de_DE@euro</br>
           localedef -i de_DE --prefix=<strong>$pkgdir</strong> -f UTF-8 de_DE.UTF-8</br>
           localedef -i el_GR --prefix=<strong>$pkgdir</strong> -f ISO-8859-7 el_GR</br>
           localedef -i en_GB --prefix=<strong>$pkgdir</strong> -f UTF-8 en_GB.UTF-8</br>
           localedef -i en_US --prefix=<strong>$pkgdir</strong> -f ISO-8859-1 en_US</br>
           localedef -i en_US --prefix=<strong>$pkgdir</strong> -f UTF-8 en_US.UTF-8</br>
           localedef -i es_MX --prefix=<strong>$pkgdir</strong> -f ISO-8859-1 es_MX</br>
           localedef -i fa_IR --prefix=<strong>$pkgdir</strong> -f UTF-8 fa_IR</br>
           localedef -i fr_FR --prefix=<strong>$pkgdir</strong> -f ISO-8859-1 fr_FR</br>
           localedef -i fr_FR@euro --prefix=<strong>$pkgdir</strong> -f ISO-8859-15 fr_FR@euro</br>
           localedef -i fr_FR --prefix=<strong>$pkgdir</strong> -f UTF-8 fr_FR.UTF-8</br></br>
           cat > <strong>$pkgdir</strong>/etc/nsswitch.conf << "EOF"</br>
           # Begin /etc/nsswitch.conf</br></br>
           passwd: files</br>
           group: files</br>
           shadow: files</br></br>
           hosts: files dns</br>
           networks: files</br></br>
           protocols: files</br>
           services: files</br>
           ethers: files</br>
           rpc: files</br></br>
           # End /etc/nsswitch.conf</br>
           EOF</br></br></br>
           tar -xf <strong>$SRC</strong>/tzdata2021e.tar.gz</br>
           ZONEINFO=<strong>$pkgdir</strong>/usr/share/zoneinfo</br>
           mkdir -pv $ZONEINFO/{posix,right}</br>
           for tz in etcetera southamerica northamerica europe africa antarctica asia australasia backward; do</br>
           zic -L /dev/null   -d $ZONEINFO       ${tz}</br>
           zic -L /dev/null   -d $ZONEINFO/posix ${tz}</br>
           zic -L leapseconds -d $ZONEINFO/right ${tz} 2>/dev/null</br>
           done</br></br>
           cp -v zone.tab zone1970.tab iso3166.tab $ZONEINFO</br>
           zic -d $ZONEINFO -p America/New_York</br>
           unset ZONEINFO</br></br></br>
           cat > <strong>$pkgdir</strong>/etc/ld.so.conf << "EOF"</br>
           # Begin /etc/ld.so.conf</br>
           /usr/local/lib</br>
           /opt/lib</br></br>
           EOF</br></br>
           cat >> <strong>$pkgdir</strong>/etc/ld.so.conf << "EOF"</br>
           # Add an include directory</br>
           include /etc/ld.so.conf.d/*.conf</br></br>
           EOF</br></br>
           }</br></br>
         </p>           
         </div>
         


        <div class="pkgbf" id="file7">
        <p> cat  pkgbuild_bluez</br></br>
           pkgname=bluez</br>
           pkgver=5.63</br>
           pkgrev=1</br>
           pkgdesc=""</br>
           url="https://www.kernel.org/pub/linux/bluetooth/"</br>
           groups=</br>
           depends=(dbus glib libical)</br>
           makedepend=()</br>
           packager=""</br>
           tfext=tar.xz</br></br>
           build() {</br>
           ./configure --prefix=/usr&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;\</br>
            &emsp;&emsp;&emsp;&emsp;&emsp;--sysconfdir=/etc&emsp;&emsp;&emsp;&ensp;\</br>
            &emsp;&emsp;&emsp;&emsp;&emsp;--localstatedir=/var&emsp;&emsp;&ensp;\</br>
            &emsp;&emsp;&emsp;&emsp;&emsp;--disable-manpages&emsp;&emsp;\</br>
            &emsp;&emsp;&emsp;&emsp;&emsp;--enable-library</br>
            make</br>
            make DESTDIR=<strong>$pkgdir</strong> install</br></br>
            ln -svf ../libexec/bluetooth/bluetoothd /usr/sbin</br>
            install -v -dm755 <strong>$pkgdir</strong>/etc/bluetooth</br>
            install -v -m644 src/main.conf <strong>$pkgdir</strong>/etc/bluetooth/main.conf</br></br>
            cat > <strong>$pkgdir</strong>/etc/bluetooth/rfcomm.conf << EOF</br>
            # start rfcomm.conf</br>
            # ... subsystem in the Linux kernel.</br>
            # Use one line per command</br>
            # See the rfcomm man page for options</br>
            </br></br>
            # End</br>
            EOF</br></br>
            }
        </p>
        </div>


         
         
          <div class="pkgbf" id="file8">
          <p> cat  pkgbuild_elfutils</br></br>
          pkgname=libelf</br>
          pkgver=0.187</br>
          pkgrev=1</br>
          pkgdesc="a library for handling ELF"</br>
          url="https://sourceware.org/elfutils/"</br>
          groups=base</br>
          depends=()</br>
          makedepend=()</br>
          packager=</br>
          tfext=tar.bz2</br></br>
          build() {</br>
          ./configure&emsp;&emsp;--prefix=/usr&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;\</br>
           &emsp;&emsp;&emsp;&emsp;&emsp;&emsp; --disable-debuginfod&emsp;&emsp;&emsp;\</br>
           &emsp;&emsp;&emsp;&emsp;&emsp;&emsp; --enable-libdebuginfod=dummy</br></br>
          make</br>
          make DESTDIR=<strong>$pkgdir</strong> -C libelf install</br></br>
          install -vm644 config/libelf.pc <strong>$pkgdir</strong>/usr/lib/pkgconfig</br>
          rm <strong>$pkgdir</strong>/usr/lib/libelf.a</br>
          }
          
          </p>
         </div>
    
    
         
            <div class="pkgbf" id="file9">
            <p> cat  pkgbuild_p7zip</br></br>
            pkgname=p7zip</br>
            pkgver=17.04</br>
            pkgrev=1</br>
            pkgdesc="command-line file archiver with high compression ratio"</br>
            url="https://downloads.sourceforge.net/p7zip/"</br>
            groups=base</br>
            depends=()</br>
            makedepend=()</br>
            packager=</br>
            tfext=</br></br>                  
            build() {</br>
            sed '/^gzip/d' -i install.sh</br>
            sed -i '160a if(_buffer == nullptr || _size == _pos) return E_FAIL;' CPP/7zip/Common/StreamObjects.cpp</br>
            make all3</br>
            make DEST_DIR=<strong>$pkgdir</strong> &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;\</br>
                    &emsp;&emsp;&emsp;DEST_HOME=/usr&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;\</br>
                    &emsp;&emsp;&emsp;DEST_MAN=/usr/share/man&emsp;&emsp; \</br>
                    &emsp;&emsp;&emsp;DEST_SHARE_DOC=/usr/share/doc/p7zip-$pkgver install</br>
            }
          
            </p>
         </div>
         
         
         
          <div class="pkgbf" id="file10">
          <p> cat  pkgbuild_linux</br></br>
          pkgname=linux</br>
          pkgver=5.19.4</br>
          pkgrev=1</br>
          pkgdesc="the Linux kernel"</br>
          url="https://www.kernel.org/"</br>
          groups=base</br>
          depends=()</br>
          makedepend=()</br>
          packager=</br>
          tfext=tar.xz</br></br>
          build() {</br>
          make mrproper</br>
          make menuconfig</br>
          make</br>
          make INSTALL_MOD_PATH=<strong>$pkgdir</strong> modules_install</br></br>
          mkdir -pv &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;<strong>$pkgdir</strong>/boot</br>
          cp -v arch/x86/boot/bzImage <strong>$pkgdir</strong>/boot/vmlinuz-$pkgver</br>
          cp -v System.map&emsp;&emsp;&emsp;&emsp;&emsp;&ensp;<strong>$pkgdir</strong>/boot/System.map-$pkgver</br>
          cp -v .config&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp; <strong>$pkgdir</strong>/boot/config-$pkgver</br>
          install -v -m755 -d&emsp;&emsp;&emsp;&emsp;&emsp; <strong>$pkgdir</strong>/etc/modprobe.d</br></br>
          cat > <strong>$pkgdir</strong>/etc/modprobe.d/usb.conf << EOF</br>
          install ohci_hcd /sbin/modprobe ehci_hcd ; /sbin/modprobe -i ohci_hcd ; true</br>
          install uhci_hcd /sbin/modprobe ehci_hcd ; /sbin/modprobe -i uhci_hcd ; true</br>
          EOF</br>
          }
          
          </p>
         </div>
         

        
        <div class=footer_text>
        <p>these examples are based on the&ensp;'BLFS PROJECT'&ensp;if you are building a&ensp;LFS/BLFS&ensp;system
        I strongly encourage you to follow the official instructions of the project </br>
        you simply need to fill the instructions in 'pkgbuild' files
        </p>
        </div>
        
    
          
</body>
</html>
